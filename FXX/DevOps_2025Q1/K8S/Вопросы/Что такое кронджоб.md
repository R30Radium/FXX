
### **Коротко:**
**CronJob** в Kubernetes — это объект, который запускает **Jobs по расписанию**, аналогично cron в Linux. Он используется для выполнения периодических задач (например, резервное копирование, отправка отчётов).

---

### **Подробно:**

#### **1. Что такое CronJob:**
- **CronJob** — это планировщик задач, который создаёт **Jobs** по заданному расписанию.
- Расписание задаётся в формате cron (например, `*/5 * * * *` — каждые 5 минут).

---

#### **2. Зачем нужен CronJob:**
- **Периодические задачи:** Например, резервное копирование, очистка данных, отправка отчётов.
- **Автоматизация:** Задачи выполняются автоматически по расписанию.
- **Гибкость:** Можно настроить интервалы выполнения (ежедневно, еженедельно и т.д.).

---

#### **3. Как работает CronJob:**
- CronJob создаёт **Job** по расписанию.
- Job, в свою очередь, создаёт поды для выполнения задачи.
- После завершения задачи поды удаляются.

---

#### **4. Пример манифеста CronJob:**
```yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: example-cronjob
spec:
  schedule: "*/5 * * * *"  # Каждые 5 минут
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: worker
            image: busybox
            command: ["sh", "-c", "echo 'Hello, Kubernetes!'; sleep 10"]
          restartPolicy: OnFailure
```

---

#### **5. Основные параметры:**
- **schedule:** Расписание в формате cron (например, `0 * * * *` — каждый час).
- **jobTemplate:** Шаблон для создания Job.
- **startingDeadlineSeconds:** Максимальное время задержки запуска.
- **concurrencyPolicy:** Политика параллельного выполнения (`Allow`, `Forbid`, `Replace`).
- **successfulJobsHistoryLimit:** Сколько успешных Jobs сохранять в истории.
- **failedJobsHistoryLimit:** Сколько неудачных Jobs сохранять в истории.

---

#### **6. Примеры использования:**
- **Резервное копирование:** Ежедневное создание резервных копий базы данных.
- **Очистка данных:** Удаление старых логов или временных файлов.
- **Отправка отчётов:** Еженедельная отправка отчётов по почте.

---

#### **7. Отличие от Job:**
- **Job:** Выполняет задачу один раз.
- **CronJob:** Выполняет задачи по расписанию.

---

**CronJob** — это мощный инструмент для автоматизации периодических задач в Kubernetes.