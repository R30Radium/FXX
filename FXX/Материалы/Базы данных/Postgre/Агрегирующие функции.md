В PostgreSQL агрегирующие функции используются для выполнения вычислений над набором значений и возвращают одно значение. Эти функции часто применяются в сочетании с оператором `GROUP BY` для группировки строк по определенным критериям. Вот некоторые из наиболее распространенных агрегирующих функций в PostgreSQL:

1. **COUNT()**
2. **SUM()**
3. **AVG()**
4. **MIN()**
5. **MAX()**
6. **ARRAY_AGG()**
7. **STRING_AGG()**
8. **BOOL_AND()**
9. **BOOL_OR()**
### 1. `COUNT()`
Возвращает количество строк или непустых значений в столбце.

```sql
SELECT COUNT(*) FROM employees;  -- Общее количество сотрудников
SELECT COUNT(salary) FROM employees;  -- Количество сотрудников с указанной зарплатой
```

### 2. `SUM()`
Возвращает сумму значений в указанном числовом столбце.

```sql
SELECT SUM(salary) FROM employees;  -- Общая сумма зарплат сотрудников
```

### 3. `AVG()`
Возвращает среднее значение числового столбца.

```sql
SELECT AVG(salary) FROM employees;  -- Средняя зарплата сотрудников
```

### 4. `MIN()`
Возвращает минимальное значение в указанном столбце.

```sql
SELECT MIN(salary) FROM employees;  -- Минимальная зарплата среди сотрудников
```

### 5. `MAX()`
Возвращает максимальное значение в указанном столбце.

```sql
SELECT MAX(salary) FROM employees;  -- Максимальная зарплата среди сотрудников
```

### 6. `ARRAY_AGG()`
Собирает значения в массив.

```sql
SELECT ARRAY_AGG(employee_name) FROM employees;  -- Создает массив имен сотрудников
```

### 7. `STRING_AGG()`
Собирает значения в строку, разделенную указанным разделителем.

```sql
SELECT STRING_AGG(employee_name, ', ') FROM employees;  -- Создает строку с именами сотрудников, разделенными запятой
```

### 8. `BOOL_AND()`
Возвращает `TRUE`, если все значения в группе истинны, иначе `FALSE`.

```sql
SELECT BOOL_AND(is_active) FROM employees;  -- Проверяет, все ли сотрудники активны
```

### 9. `BOOL_OR()`
Возвращает `TRUE`, если хотя бы одно значение в группе истинно.

```sql
SELECT BOOL_OR(is_active) FROM employees;  -- Проверяет, есть ли хотя бы один активный сотрудник
```

### Пример использования агрегирующих функций с `GROUP BY`:

```sql
SELECT department_id, COUNT(*) AS employee_count, AVG(salary) AS average_salary
FROM employees
GROUP BY department_id;
```

### Заключение

Агрегирующие функции в PostgreSQL позволяют выполнять различные вычисления над группами данных, что делает их полезными для анализа и отчетности. Вы можете комбинировать эти функции с другими SQL-запросами для получения более сложных и информативных результатов.